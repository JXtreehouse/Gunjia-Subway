<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    
    <title>SUBWAY</title>
    <!--<link rel="stylesheet" type="text/css" href="css/subway.css">-->
    <script type="text/javascript" src="https://speech.uinnova.com/static/release/thing3d.min.js"></script>

    <script>

        var app;
        window.onload = function () {
            app = new t3d.App({
                el: "div3d",
                url: "https://speech.uinnova.com/static/models/subway",
                complete: function () {
                    console.log("app scene loaded");
                    //HideSubway();
                    HideOutDoors();
//                    var spriteMap = new THREE.TextureLoader().load( "sprite.png" );
//                    var spriteMaterial = new THREE.SpriteMaterial( { map: spriteMap, color: 0xffffff } );
//                    var sprite = new THREE.Sprite( spriteMaterial );
//                    app.scene.add( sprite );
                }
            });
        }

        var camera2D = new THREE.OrthographicCamera(-200,200,200,-200,1,1000);
        function EnterSubway() {
            app.scene.add(camera2D);
        }
        function HideSubway() {
            for(var i = 0;i < app.buildings[0].floors.length;i++) {
                app.buildings[0].floors[i].visible = false;
            }
        }
        /* 未隐藏 */
        function HideOutDoors() {
            app.outdoors.visible=false;
            for(var i = 0;i < app.outdoors.things.length;i++){
                app.outdoors.things[i].visible=false;
            }
        }
        function ShowFloors() {
            for(var i = 0;i < app.buildings[0].floors.length;i++) {
                app.buildings[0].floors[i].visible = true;
            }
        }
        function ShowThisFloor( number ) {
            HideSubway();
            app.buildings[0].floors[number].visible = true;
        }

    </script>
</head>
<body>
<div id="div3d"></div>
</body>
</html>